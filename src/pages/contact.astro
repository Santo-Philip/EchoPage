---
import Layout from "@/layouts/Layout.astro";

let success = Astro.url.searchParams.get("success");
let error = Astro.url.searchParams.get("error");
---

<Layout title="Contact" desc="Get in touch with us">
  <div class="max-w-screen-md mx-auto p-6 min-h-screen space-y-6">
    {
      success && (
        <div class="p-4 border border-green-300 bg-green-50 text-green-700 rounded">
          <p class="font-medium">Message Sent</p>
          <p class="text-sm">
            Thank you for reaching out! We will get back to you soon.
          </p>
        </div>
      )
    }
    {
      error && (
        <div class="p-4 border border-red-300 bg-red-50 text-red-700 rounded">
          <p class="font-medium">Error</p>
          <p class="text-sm">
            Something went wrong while sending your message. Please try again
            later.
          </p>
        </div>
      )
    }
    <div class="w-full px-4 py-3 border-l-4 border-blue-600 rounded">
      <h2 class="text-text-primary font-medium">Contact Us</h2>
      <p class="text-text-secondary">We would love to hear from you!</p>
    </div>
    <form class="space-y-6" action="/api/crud/messages/send" method="POST">
      <div>
        <label for="name" class="block text-sm font-medium text-text-primary"
          >Name</label
        >
        <input
          type="text"
          name="name"
          id="name"
          required
          class="mt-1 py-2 px-4 outline-none border border-text-muted rounded-full w-full"
        />
      </div>
      <div>
        <label for="email" class="block text-sm font-medium text-text-primary"
          >Email</label
        >
        <input
          type="email"
          name="email"
          id="email"
          required
          class="mt-1 py-2 px-4 outline-none border border-text-muted rounded-full w-full"
        />
      </div>
      <div>
        <label for="message" class="block text-sm font-medium text-text-primary"
          >Message</label
        >
        <textarea
          name="message"
          id="message"
          rows="5"
          required
          class="mt-1 py-2 px-4 outline-none border border-text-muted rounded-xl w-full"
        ></textarea>
      </div>
      <div>
        <button
          type="submit"
          class="bg-blue-500 hover:bg-blue-600 text-white font-medium px-5 py-2 rounded-xl shadow"
          >Send Message</button
        >
      </div>
    </form>
  </div>
</Layout>
